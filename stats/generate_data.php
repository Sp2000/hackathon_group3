<?php 
	include_once("config.inc.php");
	include_once("stats.inc.php");

	define("searchEngine","http://www.gbif.org/occurrence/search");

	$objTaxons=[["2137144", "NL"], ["5754745", "NL"], ["5754770", "NL"], ["5754772", "NL"], ["5754817", "NL"], ["4453554", "NL"], ["4453551", "NL"], ["6097803", "NL"], ["5759487", "NL"], ["5759491", "NL"], ["5759485", "NL"], ["5759492", "NL"], ["2685484", "NL"], ["2685580", "NL"], ["2685361", "NL"], ["2685552", "NL"], ["2685464", "NL"], ["2685308", "NL"], ["2685400", "NL"], ["2269258", "NL"], ["2269252", "NL"], ["1450425", "NL"], ["1450453", "NL"], ["1450478", "NL"], ["4448415", "NL"], ["1394905", "NL"], ["1394914", "NL"], ["1394907", "NL"], ["4558397", "NL"], ["4558405", "NL"], ["2215986", "NL"], ["2544114", "NL"], ["3566229", "NL"], ["5189061", "NL"], ["5189057", "NL"], ["5189053", "NL"], ["5189054", "NL"], ["1568205", "NL"], ["4433517", "NL"], ["4433515", "NL"], ["4433510", "NL"], ["2363408", "NL"], ["1967873", "NL"], ["1967815", "NL"], ["1767625", "NL"], ["1767597", "NL"], ["3475389", "NL"], ["2592381", "NL"], ["2592373", "NL"], ["2592379", "NL"], ["2592384", "NL"], ["2603180", "NL"], ["3420348", "NL"], ["2603178", "NL"], ["2603179", "NL"], ["2603172", "NL"], ["2603174", "NL"], ["5250625", "NL"], ["2558326", "NL"], ["3385768", "NL"], ["3385789", "NL"], ["1280178", "NL"], ["3152614", "NL"], ["1306626", "NL"], ["4544242", "NL"], ["4544252", "NL"], ["4544254", "NL"], ["4544256", "NL"], ["4544240", "NL"], ["4544248", "NL"], ["1211638", "NL"], ["1211637", "NL"], ["1211553", "NL"], ["1211839", "NL"], ["1211663", "NL"], ["1211556", "NL"], ["2020737", "NL"], ["4488996", "NL"], ["4489008", "NL"], ["4488988", "NL"], ["4488999", "NL"], ["2020740", "NL"], ["4489001", "NL"], ["5013501", "NL"], ["1253575", "NL"], ["1451561", "NL"], ["4503227", "NL"], ["4567429", "NL"], ["1629286", "NL"], ["6871058", "NL"], ["2494622", "NL"], ["2494732", "NL"], ["2553005", "NL"], ["2286548", "NL"], ["5189004", "NL"], ["4372551", "NL"], ["2500461", "NL"], ["2500479", "NL"], ["2500440", "NL"], ["2500476", "NL"], ["2305904", "NL"], ["1102093", "NL"], ["4776193", "NL"], ["2116772", "NL"], ["4327170", "NL"], ["2116771", "NL"], ["2116777", "NL"], ["2056598", "NL"], ["5982841", "NL"], ["2292107", "NL"], ["2234607", "NL"], ["1248774", "NL"], ["4492349", "NL"], ["4492356", "NL"], ["4492363", "NL"], ["4492358", "NL"], ["2577513", "NL"], ["2613737", "NL"], ["1853593", "NL"], ["1047525", "NL"], ["5866246", "NL"], ["1420401", "NL"], ["4542910", "NL"], ["3414497", "NL"], ["2600504", "NL"], ["7250044", "NL"], ["2600531", "NL"], ["5953486", "NL"], ["2600524", "NL"], ["5953484", "NL"], ["2600544", "NL"], ["2600519", "NL"]];

	var_dump($objTaxons);

	$count=sizeof($objTaxons);
	$taxonList=array("count"=>$count, "results"=>array());

	foreach ($objTaxons as $key => $taxon) {

		$urlSearch=searchEngine."?TAXON_KEY=".$taxon[0]."&COUNTRY=".$taxon[1];
		$taxons = array("taxonKey"=>$taxon[0],
						"country"=>$taxon[1],
						"urlSearch"=>$urlSearch,
						"totalOccurrences"=>getTotalOccurrences($taxon[1], $taxon[0]));

		array_push($taxonList["results"],$taxons); 
		
	}
	getOccurrencesByBasisOfRecords("NL", "2481139");
	getOccurrencesByDates("NL", "2481139");

	$json = json_encode($taxonList);

	write_file($taxonFile,$json);

?>